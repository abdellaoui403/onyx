<section class="section section-countdown" style="background-color: {{ section.settings.background_color }}; background-image: url('{{ section.settings.background_image | img_url: '2000x' }}');">
  <div class="page-width">
    <div class="countdown-content">
      {% if section.settings.label != blank %}
        <div class="countdown-label">{{ section.settings.label | escape }}</div>
      {% endif %}
      
      <h2 class="countdown-title">
        {{ section.settings.title | escape }}
        {% if section.settings.subtitle != blank %}
          <span class="countdown-subtitle">{{ section.settings.subtitle | escape }}</span>
        {% endif %}
      </h2>
      
      {% if section.settings.text != blank %}
        <div class="countdown-text">{{ section.settings.text | escape }}</div>
      {% endif %}
      
      <div class="countdown-timer" data-end-date="{{ section.settings.end_date }}">
        <div class="countdown-item">
          <div class="countdown-number" data-days>00</div>
          <div class="countdown-label">Days</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" data-hours>00</div>
          <div class="countdown-label">Hours</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" data-minutes>00</div>
          <div class="countdown-label">Minutes</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" data-seconds>00</div>
          <div class="countdown-label">Seconds</div>
        </div>
      </div>
      
      {% if section.settings.button_label != blank and section.settings.button_link != blank %}
        <div class="countdown-button-wrapper">
          <a href="{{ section.settings.button_link }}" class="button button-primary">
            {{ section.settings.button_label | escape }}
          </a>
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Countdown Banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image"
    },
    {
      "type": "color",
      "id": "background_color",
      "default": "#f8f8f8",
      "label": "Background color"
    },
    {
      "type": "text",
      "id": "label",
      "default": "Limited Time Offer",
      "label": "Label"
    },
    {
      "type": "text",
      "id": "title",
      "default": "SUMMER FLASH SALE",
      "label": "Title"
    },
    {
      "type": "text",
      "id": "subtitle",
      "default": "UP TO 70% OFF",
      "label": "Subtitle"
    },
    {
      "type": "text",
      "id": "text",
      "default": "Don't miss out on our biggest sale of the season! Grab premium fitness gear at unbeatable prices.",
      "label": "Text"
    },
    {
      "type": "date",
      "id": "end_date",
      "label": "End date"
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "SHOP THE SALE NOW",
      "label": "Button label"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    }
  ],
  "presets": [
    {
      "name": "Countdown Banner"
    }
  ]
}
{% endschema %}
